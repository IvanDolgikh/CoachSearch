import{_ as E}from"./unknown-D_xskH0x.js";import{_ as I}from"./EditProfile.vue_vue_type_style_index_0_lang-xeeA6_pl.js";import{E as z}from"./ErrorGetData-FJ1oV70m.js";import{d as S,j as b,l as g,o as t,c as n,a as e,q as N,b as v,v as w,x as D,A as c,n as V,F as A,f as l,G as r,u as $,C as x,p as G,g as P,L as T,_ as U}from"./index-Y51w8-xj.js";import{u as B,_ as F}from"./CoachesFiltersSelectButton.vue_vue_type_style_index_0_lang-enT1tDHP.js";import{_ as j}from"./CoachesFiltersRadioButtonGender.vue_vue_type_style_index_0_lang-m_Om5VM2.js";import{b as q,g as L}from"./api-yE4gVfV1.js";import{u as M}from"./errorsStore-03AFZIFR.js";import{I as R,a as O}from"./icon-tg-AI3_BFhL.js";const H={class:"required-information"},J={class:"required-information__container"},K={class:"required-information__specialization"},Q=e("p",null,[c("Укажите вашу специализацию "),e("sup",null,"*")],-1),W={class:"required-information__gender"},X=e("p",null,[c("Укажите ваш пол "),e("sup",null,"*")],-1),Y={class:"required-information__sex"},Z=e("p",null,[c("Укажите ваш возраст "),e("sup",null,"*")],-1),ee={class:"required-information__experience"},ae=e("p",null,[c("Укажите ваш опыт работы "),e("sup",null,"*")],-1),oe=e("button",{class:"required-information__button"}," Сохранить ",-1),te=S({__name:"CoachProfileRequiredInformation",emits:["get-additional-data"],setup(_,{emit:f}){const d=B(),i=b(),k=f,a=`${q}api/coach/finish-registration`,u=g(""),h=g(""),y=async()=>{i.loading=!0;const p={specializations:d.valueSpecialization.map(o=>o.name),gender:d.valueGender,age:u.value,workExperience:h.value};try{const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify(p)});if(o.ok){const s=await o.json();k("get-additional-data",s)}else throw new Error}catch{i.loading=!1}i.loading=!1};return(p,o)=>(t(),n("div",H,[e("div",J,[e("form",{onSubmit:o[2]||(o[2]=N(s=>y(),["prevent"]))},[e("div",K,[Q,v(F)]),e("div",W,[X,v(j)]),e("div",Y,[Z,e("label",null,[w(e("input",{type:"text",required:"","onUpdate:modelValue":o[0]||(o[0]=s=>u.value=s)},null,512),[[D,u.value]])])]),e("div",ee,[ae,w(e("input",{type:"text",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>h.value=s)},null,512),[[D,h.value]])]),oe],32)])]))}}),m=_=>(G("data-v-e36c7a67"),_=_(),P(),_),se={class:"coach"},ie={class:"coach__logo-container"},ne={key:0,class:"coach__container"},ce={key:0,href:"#required-info",class:"coach__warning"},le=m(()=>e("span",{class:"pi pi-exclamation-triangle"},null,-1)),re=m(()=>e("p",null,"Чтобы ваш профиль успешно отображался в списке тренеров, завершите настройку своего профиля",-1)),_e=[le,re],de={class:"coach__base-info-container"},ue=["src"],he={key:1,class:"coach__image",src:E,width:"250",height:"250",alt:""},pe={class:"coach__fio"},ve={class:"coach__personal-info"},me=m(()=>e("p",{class:"coach__personal-info-title"},"Личная информация",-1)),fe={key:0,class:"coach__age"},ge={key:1,class:"coach__experience"},ke={key:2,class:"coach__specialization"},ye={class:"coach__link-container"},$e=["href"],xe=["href"],we={class:"coach__contacts-container"},De=m(()=>e("p",{class:"coach__contacts-title"},"Контактная информация",-1)),Se={class:"coach__tel"},be={class:"coach__email"},qe={class:"coach__address"},Ce={class:"coach__about-container"},Ee=m(()=>e("p",{class:"coach__about-title"},"О себе",-1)),Ie={class:"coach__about"},ze=S({__name:"CoachProfile",setup(_){const f=b(),d=M(),i=g(!1),k=`${q}api/coach/profile`,a=g(),u=async()=>{try{const o=await L(k);return a.value=o,o}catch{d.showAndHideGettingDataError()}},h=o=>a.value=o,y=o=>a.value=o,p=V(()=>{var o;return(o=a.value)!=null&&o.specializations?a.value.specializations.join(", "):""});return A(async()=>{f.loading=!0,await u(),f.loading=!1}),(o,s)=>(t(),n("div",se,[e("div",ie,[v(T,{class:"coach__logo"})]),a.value&&!i.value?(t(),n("div",ne,[a.value.isRegistrationFinished?l("",!0):(t(),n("a",ce,_e)),a.value.isRegistrationFinished?(t(),n("button",{key:1,class:"coach__edit-profile",onClick:s[0]||(s[0]=C=>i.value=!i.value)},"Редактировать профиль")):l("",!0),e("div",de,[a.value.avatarUrl?(t(),n("img",{key:0,class:"coach__image",src:a.value.avatarUrl,width:"250",height:"250",alt:"Фото Тренера"},null,8,ue)):(t(),n("img",he)),e("p",pe,r(a.value.fullName),1),e("div",ve,[me,a.value.age?(t(),n("p",fe,[c(" Возраст: "),e("strong",null,r(`${a.value.age} лет`),1)])):l("",!0),a.value.workExperience?(t(),n("p",ge,[c(" Опыт работы: "),e("strong",null,r(`${a.value.workExperience} лет`),1)])):l("",!0),p.value?(t(),n("p",ke,[c(" Специализация: "),e("strong",null,r(p.value),1)])):l("",!0)]),e("div",ye,[e("a",{class:"coach__social-link",href:a.value.vkLink},[v($(R),{class:"coach__social-icon"})],8,$e),e("a",{class:"coach__social-link",href:a.value.telegramLink},[v($(O),{class:"coach__social-icon"})],8,xe)])]),e("div",we,[De,e("p",Se,[c(" Телефон: "),e("strong",null,r(a.value.phoneNumber),1)]),e("p",be,[c(" Эл почта: "),e("strong",null,r(a.value.email),1)]),e("p",qe,[c(" Место проведения тренировок: "),e("strong",null,r(a.value.address),1)])]),e("div",Ce,[Ee,e("p",Ie,r(a.value.info),1)]),a.value.isRegistrationFinished?l("",!0):(t(),x(te,{key:2,id:"required-info",onGetAdditionalData:h}))])):l("",!0),i.value&&a.value?(t(),x(I,{key:1,userData:a.value,onCloseModal:s[1]||(s[1]=C=>i.value=!i.value),onUpdateData:y},null,8,["userData"])):l("",!0),$(d).errorGettingData?(t(),x(z,{key:2})):l("",!0)]))}}),je=U(ze,[["__scopeId","data-v-e36c7a67"]]);export{je as default};
