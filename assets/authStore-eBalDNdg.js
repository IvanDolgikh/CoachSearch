import{h,i as m,j as p,l as n}from"./index-Y51w8-xj.js";import{s as g,b as f}from"./api-yE4gVfV1.js";import{u as S}from"./errorsStore-03AFZIFR.js";const D=h("auth",()=>{const l=m(),o=p(),c=S(),t=r=>r==="Customer"?{name:"user-profile"}:{name:"coach-profile"},u=`${f}api/auth/login`,s=n(""),a=n("");return{login:s,password:a,sendDataAuth:async()=>{o.loading=!0;const r={login:s.value,password:a.value};try{const e=await g(u,r);localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("role",e.role),localStorage.setItem("isAuthorizedUser","true");const i=localStorage.getItem("role")||"",d=t(i);return o.loading=!1,l.push(d),e}catch{o.loading=!1,c.showAndHideAuthError()}},checkRole:t}});export{D as u};
